### 2주차 미션 요약

---

### 체크리스트

- [x] 케이스 1 : 현재 로그인을 하지 않으면 호감표시를 할 수 없습니다.
- [x] 케이스 2 : 현재 본인의 인스타ID를 등록하지 않은 회원은 호감표시를 할 수 없습니다.
- [x] 케이스 3 : 현재 본인이 본인의 인스타ID를 호감상대로 등록할 수 없습니다.

**구현해야 할 체크리스트**

- [x] 케이스 4: 한명의 인스타회원이 다른 인스타회원에게 중복으로 호감표시를 할 수 없음.
- [x] 케이스 5: 한명의 인스타회원이 11명 이상의 호감상대를 등록 할 수 있음 (제한이 없다).
- [x] 케이스 6: 케이스 4 가 발생했을 때 기존의 사유와 다른 사유로 호감을 표시하는 경우에는 성공으로 처리되어야 함.


- [x] 카카오, 구글 소셜 로그인 연동은 되어 있음
- [x] 네이버 소셜 로그인 연동이 안되어 있음 

**[접근 방법]**

**케이스 4**

- 호감등록이 이루어지는 메서드인 `like()` 메서드에서 호감 표시를 등록할 때에 호감 등록이 가능한지 `canAdd()`를 활용하여
중복 등록 여부를 체크
- 로그인 된 사용자(member)에서 호감을 표시한 리스트에 접근할 수 있어서 이 리스트 객체의 정보를 통해 중복여부를 판단하려고 했음

**케이스 5**

- 처음에는 백엔드 단에서가 아닌 서버에서 처리되기 전에 페이지 단에서 등록을 못하도록 설계하려고 했지만 이 부분의 경우 서버단에서 로직을 구현하고
템플릿 단에서는 더이상 입력을 할 수 없도록만 하게 해주면 된다는 피드백을 받음
- 로그인 된 사용자 객체의 fromLikeablePeople 리스트 객체의 크기가 10이상이면 등록을 못하도록 실패코드를 반환하도록 하려고 했음
- 그리고 호감 목록 페이지를 호감 표시하는 페이지에서 볼 수 없으므로 `layout.html`에서 로그인 되었을 때 사용자 정보
옆에 내가 호감 표시를 한 사람 수를 보여주려고 함

**케이스 6**

- 동일하게 케이스 4에서 구현한 `canAdd()`메서드에서 조건만 더 추가해주는 방향으로 접근하려고 시도했음
- 호감 코드만 다르고 중복으로 회원을 등록할 경우에 update 쿼리가 실행될 수 있도록 하는 부분을 `like()` 등록할 때 기존의 객체에
덮어쓰도록 할 수 있는 접근하려고 했다.


**[특이사항]**

**구현 과정에서 아쉬웠던 점 / 보완해야할 부분에 대한 의견 제시/ 궁금했던 점을 정리합니다.**

---

`canAdd()`메서드 로직에서 null을 리턴하는 부분이 있는데 이를 적절하게 처리하는 부분을 어떻게 해야할지 모르겠다.
메서드 내부 로직을 별도의 메서드로 분리하는 작업이 필요할 것 같은데 어떻게 분리 시키면 좋을지 궁금했다.

### 미션 종료 후

---

**1주차 리팩토링**
- [x] LikeablePersonController delete() GetMapping -> PostMapping으로 변경
- [x] .yml 파일 민감 정보 설정 파일과 전체 설정 파일 분리하기
- [x] 객체 비교는 .equals()로 변경하기

**4월 13일 수정 부분**

- [x] 케이스 5의 호감 목록 최대 값 설정을 yml의 공통 설정으로 분리하기
- [x] 케이스 4의 중복 회원 조회를 for문을 사용하는 방식에서 jpa함수를 사용하는 것으로 개선하기
- [ ] 네이버 로그인 json 형태의 데이터 getAttributes() 활용해서 id값 처리하기


**추후 구현할 부분**
- [x] 구글 로그인 구현
- [ ] 테스트 케이스 작성